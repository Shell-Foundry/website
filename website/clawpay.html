<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClawPay — Payment Infrastructure for OpenClaw Skills</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            200: '#bbf7d0',
                            300: '#86efac',
                            400: '#4ade80',
                            500: '#22c55e',
                            600: '#16a34a',
                            700: '#15803d',
                            800: '#166534',
                            900: '#14532d',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-text {
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #0b0e11 0%, #111418 50%, #1a1f24 100%);
        }
        .terminal-green {
            color: #4ade80;
        }
        .code-block {
            background: #0b0e11;
            border: 1px solid #1f2933;
            border-radius: 12px;
            overflow-x: auto;
        }
        .step-number {
            width: 40px;
            height: 40px;
            background: #4ade80;
            color: #0b0e11;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }
    </style>
</head>
<body class="bg-[#0b0e11] text-slate-300 font-sans">
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 bg-[#0b0e11]/80 backdrop-blur-md border-b border-slate-800 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="./index.html" class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-[#4ade80] rounded-lg flex items-center justify-center">
                        <span class="text-[#0b0e11] font-bold text-lg">S</span>
                    </div>
                    <span class="font-display font-bold text-xl text-white">ShellFoundry</span>
                </a>
                <div class="hidden md:flex space-x-8">
                    <a href="./index.html" class="text-slate-400 hover:text-[#4ade80] font-medium transition">Home</a>
                    <a href="#overview" class="text-slate-400 hover:text-[#4ade80] font-medium transition">Overview</a>
                    <a href="#how-it-works" class="text-slate-400 hover:text-[#4ade80] font-medium transition">How It Works</a>
                    <a href="./register-skill.html" class="text-[#4ade80] font-semibold transition">Register Your Skill →</a>
                </div>
                <div class="flex items-center gap-3">
                    <a href="./register-skill.html" class="hidden md:inline-flex items-center px-4 py-2 bg-[#4ade80] text-[#0b0e11] font-semibold rounded-lg hover:bg-[#22c55e] transition">
                        Register Your Skill
                    </a>
                    <a href="./clawpaydashboard.html" class="hidden md:inline-flex items-center px-4 py-2 border border-slate-700 text-white font-semibold rounded-lg hover:border-[#4ade80] hover:text-[#4ade80] transition">
                        Dashboard
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section class="pt-32 pb-20 bg-[#111418] border-b border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="inline-flex items-center px-4 py-2 rounded-full bg-[#4ade80]/10 text-[#4ade80] text-sm font-medium mb-6 border border-[#4ade80]/20">
                Payment Infrastructure
            </div>
            <h1 class="font-display font-bold text-5xl sm:text-6xl text-white mb-6">
                ClawPay
            </h1>
            <p class="text-xl text-slate-400 max-w-2xl mx-auto mb-8">
                USDC Payment System for OpenClaw Skills. Enable developers to monetize their skills with automatic 10% platform / 90% developer revenue split.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="./register-skill.html" class="inline-flex items-center justify-center px-8 py-4 bg-[#4ade80] text-[#0b0e11] font-semibold rounded-xl hover:bg-[#22c55e] transition text-lg">
                    Register Your Skill
                    <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                    </svg>
                </a>
                <a href="./clawpaydashboard.html" class="inline-flex items-center justify-center px-8 py-4 bg-slate-800 text-white font-semibold rounded-xl border border-slate-700 hover:border-[#4ade80] hover:text-[#4ade80] transition text-lg">
                    Developer Dashboard
                </a>
            </div>
        </div>
    </section>

    <!-- Payment Interface (Shows when skill parameter is present) -->
    <section id="payment-interface" class="py-20 bg-[#0b0e11] border-b border-slate-800" style="display: none;">
        <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-[#111418] rounded-2xl border border-slate-800 p-8">
                <div class="text-center mb-8">
                    <div class="inline-flex items-center px-4 py-2 rounded-full bg-[#4ade80]/10 text-[#4ade80] text-sm font-medium mb-4 border border-[#4ade80]/20">
                        Skill Payment
                    </div>
                    <h2 class="font-display font-bold text-3xl text-white mb-2" id="skill-name">Loading...</h2>
                    <p class="text-slate-400">Pay to access this premium skill</p>
                </div>

                <!-- Not Connected State -->
                <div id="not-connected" class="text-center py-8">
                    <div class="w-20 h-20 bg-[#4ade80]/10 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-[#4ade80]/20">
                        <svg class="w-10 h-10 text-[#4ade80]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a1 1 0 11-2 0 1 1 0 012 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-white mb-4">Connect Your Wallet</h3>
                    <p class="text-slate-400 mb-6">Connect your wallet to view skill details and make payment</p>
                    <button onclick="connectWallet()" class="inline-flex items-center justify-center px-8 py-4 bg-[#4ade80] text-[#0b0e11] font-semibold rounded-xl hover:bg-[#22c55e] transition text-lg">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                        Connect Wallet
                    </button>
                    <p class="mt-4 text-sm text-slate-500">Supported: MetaMask, Rabby, Coinbase Wallet</p>
                </div>

                <!-- Connected - Not Paid State -->
                <div id="connected-not-paid" class="hidden">
                    <div class="bg-[#0b0e11] rounded-xl p-6 mb-6 border border-slate-800">
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-slate-400">Skill ID</span>
                            <code class="text-[#4ade80] font-mono text-sm" id="skill-id-display">-</code>
                        </div>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-slate-400">Developer</span>
                            <code class="text-white font-mono text-sm" id="developer-display">-</code>
                        </div>
                        <div class="flex justify-between items-center pt-4 border-t border-slate-800">
                            <span class="text-lg text-white">Price</span>
                            <span class="text-2xl font-bold text-[#4ade80]" id="price-display">- USDC</span>
                        </div>
                    </div>

                    <button onclick="payForSkill()" id="pay-button" class="w-full inline-flex items-center justify-center px-8 py-4 bg-[#4ade80] text-[#0b0e11] font-semibold rounded-xl hover:bg-[#22c55e] transition text-lg">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Pay <span id="button-price">-</span> USDC
                    </button>

                    <div class="mt-4 flex items-center justify-center space-x-2 text-sm text-slate-500">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                        </svg>
                        <span>90% to developer, 10% platform fee</span>
                    </div>
                </div>

                <!-- Already Paid State -->
                <div id="already-paid" class="hidden text-center py-8">
                    <div class="w-20 h-20 bg-[#4ade80]/10 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-[#4ade80]/20">
                        <svg class="w-10 h-10 text-[#4ade80]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-white mb-2">Payment Confirmed!</h3>
                    <p class="text-slate-400 mb-4">You have already paid for this skill</p>
                    <div class="bg-[#0b0e11] rounded-lg p-4 border border-slate-800">
                        <p class="text-sm text-slate-500 mb-1">Transaction</p>
                        <a id="tx-link" href="#" target="_blank" class="text-[#4ade80] text-sm font-mono hover:underline">View on BaseScan</a>
                    </div>
                </div>

                <!-- Payment Processing -->
                <div id="payment-processing" class="hidden text-center py-8">
                    <div class="inline-block w-12 h-12 border-4 border-slate-700 border-t-[#4ade80] rounded-full animate-spin mb-4"></div>
                    <p class="text-slate-400">Processing payment...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Overview -->
    <section id="overview" class="py-20 bg-[#0b0e11]">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="font-display font-bold text-4xl text-white mb-4">Why ClawPay?</h2>
                <p class="text-xl text-slate-400 max-w-2xl mx-auto">
                    The easiest way to add payments to your OpenClaw skills. No complex setup, no hidden fees.
                </p>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="text-center p-6 bg-[#111418] rounded-2xl border border-slate-800">
                    <div class="w-16 h-16 bg-[#4ade80]/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-[#4ade80]/20">
                        <svg class="w-8 h-8 text-[#4ade80]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <h3 class="font-display font-bold text-xl text-white mb-2">Instant Payouts</h3>
                    <p class="text-slate-500">Get paid instantly in USDC on the Base network. No waiting, no delays.</p>
                </div>

                <div class="text-center p-6 bg-[#111418] rounded-2xl border border-slate-800">
                    <div class="w-16 h-16 bg-[#4ade80]/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-[#4ade80]/20">
                        <svg class="w-8 h-8 text-[#4ade80]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h3 class="font-display font-bold text-xl text-white mb-2">90% Revenue Share</h3>
                    <p class="text-slate-500">Developers keep 90% of all revenue. Only 10% platform fee.</p>
                </div>

                <div class="text-center p-6 bg-[#111418] rounded-2xl border border-slate-800">
                    <div class="w-16 h-16 bg-[#4ade80]/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-[#4ade80]/20">
                        <svg class="w-8 h-8 text-[#4ade80]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                        </svg>
                    </div>
                    <h3 class="font-display font-bold text-xl text-white mb-2">Secure & Verified</h3>
                    <p class="text-slate-500">Smart contract audited and verified on Base blockchain.</p>
                </div>

                <div class="text-center p-6 bg-[#111418] rounded-2xl border border-slate-800">
                    <div class="w-16 h-16 bg-[#4ade80]/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-[#4ade80]/20">
                        <svg class="w-8 h-8 text-[#4ade80]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                        </svg>
                    </div>
                    <h3 class="font-display font-bold text-xl text-white mb-2">Simple Integration</h3>
                    <p class="text-slate-500">Just 7 lines of code to add payments to your skill.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section id="how-it-works" class="py-20 bg-[#111418] border-t border-slate-800">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="font-display font-bold text-4xl text-white mb-4">How It Works</h2>
                <p class="text-xl text-slate-400">Three simple steps to start monetizing your skills</p>
            </div>

            <div class="space-y-12">
                <!-- Step 1 -->
                <div class="flex flex-col md:flex-row gap-6 items-start">
                    <div class="step-number">1</div>
                    <div class="flex-1 bg-[#0b0e11] p-8 rounded-2xl border border-slate-800">
                        <h3 class="font-display font-bold text-2xl text-white mb-3">Register Your Skill</h3>
                        <p class="text-slate-400 mb-4">
                            Connect your wallet and register your skill with a unique ID and pricing. The smart contract handles all the payment infrastructure automatically.
                        </p>
                        <div class="code-block p-4">
                            <code class="text-[#4ade80] text-sm font-mono">
                                # Register via dashboard or CLI<br>
                                Skill ID: my-awesome-skill<br>
                                Price: 10 USDC<br>
                                Developer: 0xYourAddress...
                            </code>
                        </div>
                    </div>
                </div>

                <!-- Step 2 -->
                <div class="flex flex-col md:flex-row gap-6 items-start">
                    <div class="step-number">2</div>
                    <div class="flex-1 bg-[#0b0e11] p-8 rounded-2xl border border-slate-800">
                        <h3 class="font-display font-bold text-2xl text-white mb-3">Integrate Payment Check</h3>
                        <p class="text-slate-400 mb-4">
                            Add just 7 lines of code to your skill to check if a user has paid. The smart contract verifies payment automatically.
                        </p>
                        <div class="code-block p-4">
                            <code class="text-[#4ade80] text-sm font-mono">
                                const hasAccess = await clawpay.checkPayment({<br>
                                &nbsp;&nbsp;skillId: 'my-skill',<br>
                                &nbsp;&nbsp;userAddress: '0x...'<br>
                                });
                            </code>
                        </div>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="flex flex-col md:flex-row gap-6 items-start">
                    <div class="step-number">3</div>
                    <div class="flex-1 bg-[#0b0e11] p-8 rounded-2xl border border-slate-800">
                        <h3 class="font-display font-bold text-2xl text-white mb-3">Get Paid Automatically</h3>
                        <p class="text-slate-400 mb-4">
                            Every time a user pays for your skill, 90% goes directly to your wallet. Withdraw earnings anytime from the dashboard.
                        </p>
                        <div class="grid grid-cols-2 gap-4 mt-4">
                            <div class="bg-[#4ade80]/10 p-4 rounded-xl text-center border border-[#4ade80]/20">
                                <p class="text-[#4ade80] font-bold text-2xl">90%</p>
                                <p class="text-slate-400 text-sm">To Developer</p>
                            </div>
                            <div class="bg-slate-800 p-4 rounded-xl text-center border border-slate-700">
                                <p class="text-slate-300 font-bold text-2xl">10%</p>
                                <p class="text-slate-500 text-sm">Platform Fee</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Integration Guide -->
    <section id="integration" class="py-20 bg-[#0b0e11]">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="font-display font-bold text-4xl text-white mb-4">Integration Guide</h2>
                <p class="text-xl text-slate-400">Add payments to your skill in minutes</p>
            </div>

            <div class="space-y-8">
                <!-- Step 1: Install -->
                <div class="bg-[#111418] rounded-2xl p-8 border border-slate-800">
                    <h3 class="font-display font-bold text-xl text-white mb-4 flex items-center">
                        <span class="w-8 h-8 bg-[#4ade80] text-[#0b0e11] rounded-lg flex items-center justify-center text-sm mr-3">1</span>
                        Install the ClawPay Skill
                    </h3>
                    <div class="code-block p-4">
                        <code class="text-[#4ade80] text-sm font-mono">
                            # Clone the skill<br>
                            git clone https://github.com/shellfoundry/skill-clawpay.git<br><br>
                            # Install dependencies<br>
                            cd skill-clawpay && npm install
                        </code>
                    </div>
                </div>

                <!-- Step 2: Configure -->
                <div class="bg-[#111418] rounded-2xl p-8 border border-slate-800">
                    <h3 class="font-display font-bold text-xl text-white mb-4 flex items-center">
                        <span class="w-8 h-8 bg-[#4ade80] text-[#0b0e11] rounded-lg flex items-center justify-center text-sm mr-3">2</span>
                        Configure Environment
                    </h3>
                    <div class="code-block p-4">
                        <code class="text-[#4ade80] text-sm font-mono">
                            # .env file<br>
                            CLAWPAY_CONTRACT=0x6c302FB0eabb0875088b07D80807a91BDa3c21AB<br>
                            NETWORK=base-mainnet<br>
                            ALCHEMY_API_KEY=your_key_here
                        </code>
                    </div>
                </div>

                <!-- Step 3: Add to Skill -->
                <div class="bg-[#111418] rounded-2xl p-8 border border-slate-800">
                    <h3 class="font-display font-bold text-xl text-white mb-4 flex items-center">
                        <span class="w-8 h-8 bg-[#4ade80] text-[#0b0e11] rounded-lg flex items-center justify-center text-sm mr-3">3</span>
                        Add Payment Check to Your Skill
                    </h3>
                    <div class="code-block p-4">
                        <code class="text-[#4ade80] text-sm font-mono">
                            const ClawPay = require('skill-clawpay');<br><br>
                            const clawpay = new ClawPay({<br>
                            &nbsp;&nbsp;network: 'mainnet'<br>
                            });<br><br>
                            // In your skill handler:<br>
                            async function handleSkill(userAddress) {<br>
                            &nbsp;&nbsp;const hasPaid = await clawpay.checkPayment({<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;skillId: 'my-skill',<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;userAddress<br>
                            &nbsp;&nbsp;});<br><br>
                            &nbsp;&nbsp;if (!hasPaid) {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;return 'Please pay 10 USDC to use this skill';<br>
                            &nbsp;&nbsp;}<br><br>
                            &nbsp;&nbsp;// Process the skill...<br>
                            }
                        </code>
                    </div>
                </div>

                <!-- Step 4: Register -->
                <div class="bg-[#111418] rounded-2xl p-8 border border-slate-800">
                    <h3 class="font-display font-bold text-xl text-white mb-4 flex items-center">
                        <span class="w-8 h-8 bg-[#4ade80] text-[#0b0e11] rounded-lg flex items-center justify-center text-sm mr-3">4</span>
                        Register Your Skill
                    </h3>
                    <p class="text-slate-400 mb-4">
                        Use the <a href="./clawpaydashboard.html" class="text-[#4ade80] hover:underline font-medium">Developer Dashboard</a> to register your skill with a price and start accepting payments.
                    </p>
                </div>
            </div>

            <!-- CTA -->
            <div class="mt-12 text-center">
                <a href="./clawpaydashboard.html" class="inline-flex items-center justify-center px-8 py-4 bg-[#4ade80] text-[#0b0e11] font-semibold rounded-xl hover:bg-[#22c55e] transition text-lg">
                    Get Started Now
                    <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Contract Info -->
    <section class="py-20 bg-[#111418] border-t border-slate-800">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="font-display font-bold text-3xl text-white mb-8">Smart Contract</h2>
            <div class="bg-[#0b0e11] rounded-2xl p-8 border border-slate-800">
                <div class="grid md:grid-cols-2 gap-8 text-left">
                    <div>
                        <p class="text-slate-500 text-sm mb-1">Contract Address (Base Mainnet)</p>
                        <code class="text-[#4ade80] text-xs break-all">0x6c302FB0eabb0875088b07D80807a91BDa3c21AB</code>
                    </div>
                    <div>
                        <p class="text-slate-500 text-sm mb-1">Network</p>
                        <p class="text-white font-medium">Base Mainnet (Production)</p>
                    </div>
                    <div>
                        <p class="text-slate-500 text-sm mb-1">Fee Split</p>
                        <p class="text-white font-medium">10% Platform / 90% Developer</p>
                    </div>
                    <div>
                        <p class="text-slate-500 text-sm mb-1">Payment Token</p>
                        <p class="text-white font-medium">USDC on Base</p>
                    </div>
                </div>
                <div class="mt-8 pt-8 border-t border-slate-800">
                    <a href="https://basescan.org/address/0x6c302FB0eabb0875088b07D80807a91BDa3c21AB" target="_blank" class="inline-flex items-center text-[#4ade80] hover:text-[#22c55e] transition">
                        View on BaseScan
                        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-[#0b0e11]">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="font-display font-bold text-4xl text-white mb-4">Get In Touch</h2>
            <p class="text-xl text-slate-400 mb-8">
                Have questions or want to collaborate? We'd love to hear from you.
            </p>
            
            <div class="inline-flex items-center px-8 py-4 bg-[#111418] rounded-2xl border border-slate-800 mb-8">
                <div class="w-12 h-12 bg-[#4ade80] rounded-xl flex items-center justify-center mr-4">
                    <svg class="w-6 h-6 text-[#0b0e11]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                </div>
                <div class="text-left">
                    <p class="text-sm text-slate-500 font-medium uppercase tracking-wide">Email Us</p>
                    <a href="mailto:ShellFoundry@gmail.com" class="text-lg font-semibold text-white hover:text-[#4ade80] transition">
                        ShellFoundry@gmail.com
                    </a>
                </div>
            </div>

            <div class="flex justify-center space-x-6">
                <a href="https://x.com/ShellFoundry" target="_blank" class="w-14 h-14 bg-[#111418] rounded-full flex items-center justify-center text-slate-400 hover:bg-[#4ade80] hover:text-[#0b0e11] transition border border-slate-800">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
                    </svg>
                </a>
                <a href="https://github.com/Shell-Foundry" target="_blank" class="w-14 h-14 bg-[#111418] rounded-full flex items-center justify-center text-slate-400 hover:bg-[#4ade80] hover:text-[#0b0e11] transition border border-slate-800">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
                    </svg>
                </a>
                <a href="https://www.reddit.com/r/ShellFoundry/" target="_blank" class="w-14 h-14 bg-[#111418] rounded-full flex items-center justify-center text-slate-400 hover:bg-[#4ade80] hover:text-[#0b0e11] transition border border-slate-800">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.25 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"></path>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-[#111418] border-t border-slate-800 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center space-x-2 mb-4 md:mb-0">
                    <div class="w-8 h-8 bg-[#4ade80] rounded-lg flex items-center justify-center">
                        <span class="text-[#0b0e11] font-bold text-lg">S</span>
                    </div>
                    <span class="font-display font-bold text-xl text-white">ShellFoundry</span>
                </div>
                <div class="flex items-center space-x-6 text-slate-500">
                    <a href="./index.html" class="hover:text-[#4ade80] transition">Home</a>
                    <a href="./clawpaydashboard.html" class="hover:text-[#4ade80] transition">Dashboard</a>
                    <a href="mailto:ShellFoundry@gmail.com" class="hover:text-[#4ade80] transition">Contact</a>
                </div>
            </div>
            <div class="mt-8 pt-8 border-t border-slate-800 text-center text-slate-600 text-sm">
                © 2026 ShellFoundry. All rights reserved. Built with ❤️ for developers.
            </div>
        </div>
    </footer>

    <!-- Payment Interface JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <script>
        // Contract Configuration
        const CONTRACT_ADDRESS = '0x6c302FB0eabb0875088b07D80807a91BDa3c21AB';
        const USDC_ADDRESS = '0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913';
        const RPC_URL = 'https://mainnet.base.org';
        
        // Get skill ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const skillId = urlParams.get('skill');
        
        let provider, signer, contract, usdcContract, userAddress;
        let skillInfo = null;
        
        // Contract ABI (minimal)
        const CONTRACT_ABI = [
            "function skills(string calldata skillId) view returns (address developer, uint256 price, bool active, string memory name)",
            "function checkAccess(string calldata skillId, address user) view returns (bool)",
            "function payForSkill(string calldata skillId) external",
            "event PaymentReceived(string skillId, address user, uint256 amount)"
        ];
        
        const USDC_ABI = [
            "function approve(address spender, uint256 amount) returns (bool)",
            "function allowance(address owner, address spender) view returns (uint256)",
            "function balanceOf(address owner) view returns (uint256)",
            "function decimals() view returns (uint8)",
            "function symbol() view returns (string)"
        ];
        
        // Initialize
        async function init() {
            if (skillId) {
                document.getElementById('payment-interface').style.display = 'block';
                document.getElementById('skill-id-display').textContent = skillId;
                await loadSkillInfo();
            }
        }
        
        // Load skill information
        async function loadSkillInfo() {
            try {
                console.log('Loading skill info for:', skillId);
                const provider = new ethers.providers.JsonRpcProvider(RPC_URL);
                const contract = new ethers.Contract(CONTRACT_ADDRESS, CONTRACT_ABI, provider);
                
                skillInfo = await contract.skills(skillId);
                console.log('Skill info loaded:', skillInfo);
                
                if (!skillInfo || skillInfo.developer === '0x0000000000000000000000000000000000000000') {
                    document.getElementById('skill-name').textContent = 'Skill Not Found';
                    document.getElementById('not-connected').innerHTML = `
                        <div class="text-center">
                            <div class="w-20 h-20 bg-red-500/10 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-red-500/20">
                                <svg class="w-10 h-10 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </div>
                            <p class="text-xl text-red-400 mb-2">Skill not registered</p>
                            <p class="text-slate-400 mb-4">The skill "${skillId}" has not been registered on the contract yet.</p>
                            <p class="text-sm text-slate-500">Contract: ${CONTRACT_ADDRESS}</p>
                        </div>
                    `;
                    return;
                }
                
                const priceInUSDC = ethers.utils.formatUnits(skillInfo.price, 6);
                document.getElementById('skill-name').textContent = skillInfo.name || skillId;
                document.getElementById('price-display').textContent = priceInUSDC + ' USDC';
                document.getElementById('button-price').textContent = priceInUSDC;
                document.getElementById('developer-display').textContent = 
                    skillInfo.developer.slice(0, 6) + '...' + skillInfo.developer.slice(-4);
                
            } catch (error) {
                console.error('Error loading skill:', error);
                document.getElementById('skill-name').textContent = 'Error Loading Skill';
                document.getElementById('not-connected').innerHTML = `
                    <div class="text-center">
                        <div class="w-20 h-20 bg-red-500/10 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-red-500/20">
                            <svg class="w-10 h-10 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <p class="text-xl text-red-400 mb-2">Error loading skill</p>
                        <p class="text-slate-400">${error.message}</p>
                    </div>
                `;
            }
        }
        
        // Connect wallet
        async function connectWallet() {
            try {
                // Prioritize Rabby, then fall back to ethereum (MetaMask, Phantom, etc.)
                let ethereum = window.rabby;
                
                // If Rabby has ethereum provider, use that
                if (!ethereum && window.rabby?.ethereum) {
                    ethereum = window.rabby.ethereum;
                }
                
                // Fall back to window.ethereum if Rabby not available
                if (!ethereum) {
                    ethereum = window.ethereum;
                }
                
                // Check if multiple providers exist (e.g., Phantom + Rabby both installed)
                if (window.ethereum?.providers?.length > 1) {
                    // Look for Rabby specifically in providers array
                    const rabbyProvider = window.ethereum.providers.find(p => p.isRabby);
                    if (rabbyProvider) {
                        ethereum = rabbyProvider;
                    }
                }
                
                if (!ethereum) {
                    alert('Please install MetaMask, Rabby, or another Web3 wallet');
                    return;
                }
                
                // Switch to Base network
                try {
                    await ethereum.request({
                        method: 'wallet_switchEthereumChain',
                        params: [{ chainId: '0x2105' }], // Base mainnet chain ID
                    });
                } catch (switchError) {
                    // If Base network not added, add it
                    if (switchError.code === 4902) {
                        await ethereum.request({
                            method: 'wallet_addEthereumChain',
                            params: [{
                                chainId: '0x2105',
                                chainName: 'Base Mainnet',
                                nativeCurrency: {
                                    name: 'ETH',
                                    symbol: 'ETH',
                                    decimals: 18
                                },
                                rpcUrls: ['https://mainnet.base.org'],
                                blockExplorerUrls: ['https://basescan.org']
                            }]
                        });
                    } else {
                        throw switchError;
                    }
                }
                
                provider = new ethers.providers.Web3Provider(ethereum, 'any');
                await provider.send('eth_requestAccounts', []);
                signer = provider.getSigner();
                userAddress = await signer.getAddress();
                
                contract = new ethers.Contract(CONTRACT_ADDRESS, CONTRACT_ABI, signer);
                usdcContract = new ethers.Contract(USDC_ADDRESS, USDC_ABI, signer);
                
                // Check if already paid (wrap in try-catch in case skill isn't registered)
                let hasAccess = false;
                try {
                    hasAccess = await contract.checkAccess(skillId, userAddress);
                } catch (e) {
                    console.log('checkAccess failed, assuming not paid:', e.message);
                    hasAccess = false;
                }
                
                if (hasAccess) {
                    showAlreadyPaid();
                } else {
                    showPaymentScreen();
                }
                
            } catch (error) {
                console.error('Error connecting wallet:', error);
                alert('Failed to connect wallet: ' + error.message);
            }
        }
        
        // Show payment screen
        function showPaymentScreen() {
            document.getElementById('not-connected').classList.add('hidden');
            document.getElementById('connected-not-paid').classList.remove('hidden');
            document.getElementById('already-paid').classList.add('hidden');
        }
        
        // Show already paid screen
        function showAlreadyPaid() {
            document.getElementById('not-connected').classList.add('hidden');
            document.getElementById('connected-not-paid').classList.add('hidden');
            document.getElementById('already-paid').classList.remove('hidden');
        }
        
        // Pay for skill
        async function payForSkill() {
            try {
                const button = document.getElementById('pay-button');
                button.disabled = true;
                button.innerHTML = '<span class="inline-block w-5 h-5 border-2 border-slate-700 border-t-white rounded-full animate-spin mr-2"></span>Processing...';
                
                console.log('Checking allowance for:', userAddress, 'to spend on:', CONTRACT_ADDRESS);
                
                // Check USDC allowance
                let allowance;
                try {
                    allowance = await usdcContract.allowance(userAddress, CONTRACT_ADDRESS);
                    console.log('Current allowance:', allowance.toString());
                } catch (e) {
                    console.error('Allowance check failed:', e);
                    // If we can't check allowance, just try to approve
                    allowance = ethers.BigNumber.from(0);
                }
                
                if (allowance.lt(skillInfo.price)) {
                    // Need to approve USDC
                    button.innerHTML = '<span class="inline-block w-5 h-5 border-2 border-slate-700 border-t-white rounded-full animate-spin mr-2"></span>Approving USDC...';
                    
                    console.log('Approving USDC...');
                    const approveTx = await usdcContract.approve(CONTRACT_ADDRESS, ethers.constants.MaxUint256);
                    await approveTx.wait();
                    console.log('USDC approved');
                }
                
                // Pay for skill
                button.innerHTML = '<span class="inline-block w-5 h-5 border-2 border-slate-700 border-t-white rounded-full animate-spin mr-2"></span>Confirming payment...';
                
                console.log('Paying for skill:', skillId);
                const tx = await contract.payForSkill(skillId);
                const receipt = await tx.wait();
                console.log('Payment confirmed:', receipt.transactionHash);
                
                // Show success
                document.getElementById('payment-processing').classList.add('hidden');
                showAlreadyPaid();
                
                // Update tx link
                const txHash = receipt.transactionHash;
                document.getElementById('tx-link').href = `https://basescan.org/tx/${txHash}`;
                
                alert('Payment successful! You now have access to this skill.');
                
            } catch (error) {
                console.error('Payment error:', error);
                
                // Extract error message
                let errorMessage = error.message || 'Unknown error';
                let userFriendlyMessage = 'Payment failed';
                let errorDetails = '';
                
                // Check for specific error types
                if (errorMessage.includes('transfer amount exceeds balance') || 
                    errorMessage.includes('exceeds balance') ||
                    (error.reason && error.reason.includes('exceeds balance'))) {
                    userFriendlyMessage = 'Insufficient USDC Balance';
                    errorDetails = `You don't have enough USDC in your wallet to complete this payment.<br><br>
                        <strong>Skill Price:</strong> ${skillInfo ? ethers.utils.formatUnits(skillInfo.price, 6) : '-'} USDC<br>
                        <strong>Your Wallet:</strong> ${userAddress.slice(0, 6)}...${userAddress.slice(-4)}<br><br>
                        <strong>To fix this:</strong><br>
                        1. Get USDC on Base Mainnet<br>
                        2. Bridge from Ethereum via <a href="https://bridge.base.org" target="_blank" class="text-[#4ade80] underline">bridge.base.org</a><br>
                        3. Or swap ETH → USDC on <a href="https://app.uniswap.org" target="_blank" class="text-[#4ade80] underline">Uniswap</a><br>
                        4. Make sure you're on Base network, not Ethereum`;
                } else if (errorMessage.includes('insufficient funds') || 
                           errorMessage.includes('not enough ETH') ||
                           errorMessage.includes('gas required exceeds allowance')) {
                    userFriendlyMessage = 'Insufficient ETH for Gas';
                    errorDetails = `You don't have enough ETH on Base to cover the transaction fee.<br><br>
                        <strong>Need:</strong> A small amount of ETH for gas (~$0.01-0.05)<br>
                        <strong>Network:</strong> Base Mainnet<br><br>
                        <strong>To fix this:</strong><br>
                        1. Bridge ETH to Base via <a href="https://bridge.base.org" target="_blank" class="text-[#4ade80] underline">bridge.base.org</a><br>
                        2. Or buy ETH directly on Base through an exchange`;
                } else if (errorMessage.includes('user rejected') || 
                           errorMessage.includes('User denied') ||
                           errorMessage.includes('Action rejected')) {
                    userFriendlyMessage = 'Transaction Cancelled';
                    errorDetails = 'You cancelled the transaction in your wallet.<br><br>Click "Pay" again when you\'re ready to complete the payment.';
                } else if (errorMessage.includes('network') || 
                           errorMessage.includes('chain') ||
                           errorMessage.includes('chainId')) {
                    userFriendlyMessage = 'Wrong Network';
                    errorDetails = 'Please make sure your wallet is connected to <strong>Base Mainnet</strong>.<br><br>The payment must be made on Base network, not Ethereum Mainnet.';
                } else {
                    // Generic error
                    userFriendlyMessage = 'Payment Failed';
                    errorDetails = `Something went wrong: ${errorMessage.substring(0, 200)}...<br><br>
                        Please try again or contact support at <a href="mailto:ShellFoundry@gmail.com" class="text-[#4ade80] underline">ShellFoundry@gmail.com</a>`;
                }
                
                // Show error in the UI
                const errorDiv = document.createElement('div');
                errorDiv.className = 'mt-4 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-left';
                errorDiv.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <svg class="w-6 h-6 text-red-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <div>
                            <h4 class="font-semibold text-red-400 mb-1">${userFriendlyMessage}</h4>
                            <p class="text-sm text-slate-400">${errorDetails}</p>
                        </div>
                    </div>
                `;
                
                // Insert error message after button
                const button = document.getElementById('pay-button');
                button.parentNode.insertBefore(errorDiv, button.nextSibling);
                
                // Reset button
                button.disabled = false;
                button.innerHTML = `
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Try Again
                `;
                
                // Remove error after 10 seconds
                setTimeout(() => {
                    errorDiv.remove();
                }, 15000);
            }
        }
        
        // Initialize on page load
        init();
    </script>
</body>
</html>
